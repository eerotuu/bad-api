(this["webpackJsonpbad-api"]=this["webpackJsonpbad-api"]||[]).push([[0],{42:function(e,t,c){},44:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(0),r=c.n(a),s=c(11),i=c.n(s),j=(c(42),c(20)),o=c.n(j),u=c(36),d=c(32),h=c(10),b=(c(44),c(45),c(21)),l=c.n(b),f=c(23),O=c(13),p=c(33),x=c(22),m=c(35),A=c(34),v="https://bad-api-assignment.reaktor.com/";var y=function(e){var t=e.data,c=e.type,a=e.loading;return Object(n.jsxs)(p.a,{children:[Object(n.jsx)(x.a,{className:"justify-content-center",style:{margin:"1rem"},children:Object(n.jsx)("h1",{children:c})}),Object(n.jsx)(x.a,{className:"justify-content-center",children:a?Object(n.jsx)(A.a,{animation:"border",style:{width:"10rem",height:"10rem"}}):Object(n.jsxs)(m.a,{responsive:!0,size:"sm",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Product name"}),Object(n.jsx)("th",{children:"Available colors"}),Object(n.jsx)("th",{children:"Manufacturer"}),Object(n.jsx)("th",{children:"Price"}),Object(n.jsx)("th",{children:"Availability"})]})}),Object(n.jsx)("tbody",{children:t.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.color.join(", ")}),Object(n.jsx)("td",{children:e.manufacturer}),Object(n.jsx)("td",{children:e.price}),Object(n.jsx)("td",{children:e.DATAPAYLOAD})]},t)}))})]})})]})},g=function(){var e=Object(a.useRef)(!1),t=Object(a.useState)(!0),c=Object(h.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)([]),j=Object(h.a)(i,2),b=j[0],p=j[1],x=Object(a.useState)("jackets"),m=Object(h.a)(x,2),A=m[0],g=m[1],k=Object(a.useState)([]),D=Object(h.a)(k,2),L=D[0],P=D[1],S=Object(a.useState)([]),E=Object(h.a)(S,2),w=E[0],C=E[1],N=Object(a.useState)([]),T=Object(h.a)(N,2),Y=T[0],B=T[1];Object(a.useEffect)((function(){e.current||(F(),setInterval(F,3e5),e.current=!0)}),[]);var F=function(){var e=Object(d.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={headers:{Accept:"application/json"}},c=[],["jackets","shirts","accessories"].forEach((function(e){c.push(l.a.get("".concat(v,"products/").concat(e),t))})),Promise.all(c).then((function(e){var c=[],n=[],a=[];e.forEach((function(e){c=c.concat(e.data)})),c.forEach((function(e){"undefined"===typeof e.manufacturer||n.includes(e.manufacturer)||(n.push(e.manufacturer),a.push(l.a.get("".concat(v,"availability/").concat(e.manufacturer),t)))})),Promise.all(a).then((function(e){var t=[];e.forEach((function(e){t=t.concat(e.data.response)}));var n=Object(u.a)([c,t].reduce((function(e,t){return t.forEach((function(t){if("undefined"!==typeof t.id){var c=t.id.toLowerCase();e.has(c)?("undefined"!==typeof t.DATAPAYLOAD&&(t.DATAPAYLOAD=t.DATAPAYLOAD.replace(/<[^>]*>|\\n| /g,"")),e.set(c,Object.assign(e.get(c),t))):"undefined"!==typeof t.type&&(t.DATAPAYLOAD="UNKNOWN",e.set(c,t))}})),e}),new Map).values()),a=[],r=[],i=[];n.forEach((function(e){"jackets"===e.type?a.push(e):"shirts"===e.type?r.push(e):"accessories"===e.type&&i.push(e)})),P(a),C(r),B(i),p(a),s(!1)}))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)(f.a,{bg:"dark",variant:"dark",children:[Object(n.jsx)(f.a.Brand,{href:"#home",children:"Bad-Api"}),Object(n.jsxs)(O.a,{className:"mr-auto",children:[Object(n.jsx)(O.a.Link,{onClick:function(){g("Jackets"),p(L)},children:"Jackets"}),Object(n.jsx)(O.a.Link,{onClick:function(){g("Shirts"),p(w)},children:"Shirts"}),Object(n.jsx)(O.a.Link,{onClick:function(){g("Accessories"),p(Y)},children:"Accessories"})]})]}),Object(n.jsx)(y,{data:b,type:A,loading:r})]})},k=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root")),k()}},[[69,1,2]]]);
//# sourceMappingURL=main.df82359c.chunk.js.map